[{"id":0,"href":"/components/argo/","title":"Argo","section":"Components","content":"Argo Workflows Component #  Description #  Argo Workflows is an open source container-native workflow engine for orchestrating parallel jobs on Kubernetes. Argo Workflows is implemented as a Kubernetes CRD.\n Define workflows where each step in the workflow is a container. Model multi-step workflows as a sequence of tasks or capture the dependencies between tasks using a graph (DAG). Easily run compute intensive jobs for machine learning or data processing in a fraction of the time using Argo Workflows on Kubernetes. Run CI/CD pipelines natively on Kubernetes without configuring complex software development products.  Implementation Details \u0026amp; Parameters #  The Argo Workflows Component has the following directory structure:\n./ ├── hub-component.yaml # configuration and parameters file of Hub component ├── values.yaml.template # template of Helm\u0026#39;s values.yaml file ├── post-deploy # script that is executed after deploy of the current component ├── post-undeploy # script that is executed after undeploy of the current component ├── pre-deploy # script that is executed before deploy of the current component ├── charts/ # directory for Helm Chart sources ├── resources/ # component custom resource descriptors └── backup # shell script that contains backup routines The component uses an offical Helm Chart to provision Argo Forkflows.\nTo make configuration more flexible, ingress object for Argo workflow dashboard and IAM is configured outside the Helm in post-deploy script.\nThe following component level parameters can be set in hub-component.yaml:\n   Name Description Default Value     component.argo.namespace Kubernetes namespace where Argo is provisioned kubeflow   component.argo.workflowNamespace Kubernetes namespace where workflow workloads are created kubeflow   component.argo.workflowRBAC Flag that enables k8s Role and RoleBinding creation in the workflowNamespace with required permissions to run workflow workloads true   component.argo.version Argo version v2.12.3   component.argo.containerRuntimeExecutor Container runtime, read more here k8sapi   component.argo.helm.chart Helm Chart version argo-workflows-0.9.4.tgz    Dependencies #  Argo Component does not depend on any other component in the stack\nReferences #   Argo Workflows Helm  "},{"id":1,"href":"/components/istio-ingressgateway/","title":"Istio Ingressgateway","section":"Components","content":"Istio Ingress Gateway #  Current component will use a Helm chart to deploy an Istio Ingress Gateway\nParameters #  Input parameters:\n hub.componentName - Name of the istio ingress gateway component.istio.namespace - Namespace of the istio (defaults to: istio-system) component.istio.ingressGateway.type - reserved for future variability (defaults to: sds )  Output parameters:\n component.istio.ingressGateway - Name of istio gateeway  Implementation Specifics #  Helm chart downloaded from istio repo: https://storage.googleapis.com/istio-release/releases/$(ISTIO_VERSION)/charts/\nWe use a helm chart gateways, which is a dependency of the helm chart istio.\nValues files has been taken with with precedence to the later:\n Global values: Taken from istio/values.yaml only global; rest has been ignored Ingress gateway default values: Taken from istio/charts/gateways/values.yaml only istio-ingressgateway (renamed to hub.componentName); rest has been ignored Component values from: values.yaml.template  "},{"id":2,"href":"/components/kubeflow-authn/","title":"Kubeflow Authn","section":"Components","content":"Kubeflow Authn HTTP Filter #  This is a HTTP filter for Istio (Envoy) that validates User session and redirects to dex for authentication (if invalid).\nImplementation Details \u0026amp; Parameters #  The component has the following directory structure:\n./ ├── authn-envoy-filter.json.template # HTTP filter configuration ├── hub-component.yaml # Component definition ├── kustomization.yaml.template # Kustomize config └── oidc.yaml.template # Custom resource template for dex integration Dex parameters #  The following component level parameters has been defined hub-component.yaml:\n   Name Description Default Value     component.ingress.protocol HTTP or HTTPS schema https   component.dex.issuer OIDC auth URL (Dex) http://auth.${domain.name}   component.kubeflow.authn.oidcProvider Kubeflow OIDC auth URL https://kubeflow.${dns.domain}/login/oidc   component.kubeflow.authn.oidcSecret Hard to guess OIDC secret passphrase between Kubeflow and Dex (recommended: randomly generated string)    component.kubeflow.authn.sessionMaxAge Max age (in seconds) for user session 86400    Istio parameters (HTTP filter) #  | component.istio.namespace | Kubernetes namespace for Istio | isttio-system | component.istio.ingressGateway | Name of Istio ingress gateway service |\nSee Also #   Kubeflow Authn Design Article Istio documentation on Envoy Filters  "},{"id":3,"href":"/components/kubeflow-centraldashboard/","title":"Kubeflow Centraldashboard","section":"Components","content":"Kubeflow Central Dashboard #  Kubeflow landing page. It provides following functionality:\n Web UI to access all Kubeflow components User registration flowA  Implementation Details \u0026amp; Parameters #  The component has the following directory structure:\n./ ├── deployment_patch.yaml # Kustomize patch that adds extra env vars for pod ├── hub-component.yaml # Parameters definitions ├── kustomization.yaml.template # Kustomize file for ths component ├── links-config.json # Configuration for splash screen ├── params.env.template # Configuration for environment variables of a central-dashboard pod ├── params.yaml # Config for Kustomize varibles ├── pre-deploy # Script to download tarball from kubeflow distribution website ├── pre-undeploy -\u0026gt; pre-deploy ├── clusterrole-binding.yaml.template # RBAC for cluster role bindings └── role-binding.yaml.template # RBAC for role bindings The component uses an offical Kubeflow distribution Kustomize scripts as a and applies patches and additiona resources described in kustomize.yaml file.\nWhere pre-deploy script has been responsible for download tarball from Kubeflow official distribution website.\nThe following component level parameters has been defined hub-component.yaml:\n   Name Description Default Value     component.kubeflow.namespace Target Kubernetes namespace for this component kubeflow   component.kubeflow.dashboard.image Central dashboard docker image configuration gcr.io/kubeflow-images-public/centraldashboard   component.kubeflow.dashboard.imageTag Central dashboard docker image configuration vmaster-g8097cfeb   component.kubeflow.dashboard.contributorFormat REGEX to configure validation for profiles congtributor ^.+$   component.kubeflow.dashboard.contributorValidationMessage Custom error message for contributor validation ^.+$    Implementation Details #  This component contains a special parameters to enable image pull from private docker registry\nBy default in the Kubeflow user id has been a valid email address. This is not the case for Intel, where user id is an IDSID parameter (from LDAP) which is not an email address. To allow this, we had to relax a user field validation in Add Contributor UI screen\nSee Also #   Kubeflow Central Dashboard official documentation Project source code on Github  "},{"id":4,"href":"/components/kubeflow-jupyter/","title":"Kubeflow Jupyter","section":"Components","content":"Kubeflow Jupyter Notebook #  A web application to allow user to create, update and delete Jupyter Notebooks inside their profile. This application can work as a standalone application, however by default it wll be opened from Kubeflow Central dashboard via iframe.\nRequirements #   Requires kustomize CLI. Doesn\u0026rsquo;t work with kubectl -k ...  Implementation Details \u0026amp; Parameters #  This component will deploy two services of the Jupyter notebbok\n jupyter-web-app - a web application notebook-controller - a BFF (backend-for-frontend) of this applicaiton.  Notebook creation form can be customized in jupyter-web-app/spawner_ui_config.yaml file.\n There was a special update to the notebook to allow user select GPUs from a dropdown.\n Once a notebook has been created. In the Kubernetes it has been represented as a Custom Resource (Notebook), so notebook controller also acts as an operator for this custom resource.\nThe component has the following directory structure:\n./ ├── crds │ └── notebook.yaml # CRD, contains previous verions, for smooth in-place upgrade ├── jupyter-web-app # Jupyter Web application (UI) │ ├── kustomization.yaml.template # Kustomize script for Jupyter web application │ ├── params.yaml # Application environment variables │ └── spawner_ui_config.yaml.template # Extracted notebook creation form config for easier customization ├── notebook-controller # Backend for UI and operator for Notebooks │ ├── kustomization.yaml.template # Kustomize script for Notebook │ └── params.env.template # Environment variables for backend ├── README.md ├── backup # Script for backups ├── deploy.sh # Customized deployment script to hook both kustomize files ├── hub-component.yaml # Hub manifest ├── post-deploy # Special addon to hook a optional restore from backup script └── undeploy.sh # Undeployment script for both kustomze applicaitons The component uses an offical Kubeflow distribution Kustomize scripts as a and applies patches and additiona resources described in kustomize.yaml file.\nWhere pre-deploy script has been responsible for download tarball from Kubeflow official distribution website.\nThe following component level parameters has been defined hub-component.yaml:\n   Name Description Default Value     component.kubeflow.namespace Target Kubernetes namespace for this component kubeflow   component.kubeflow.dashboard.image Central dashboard docker image configuration gcr.io/kubeflow-images-public/centraldashboard   component.kubeflow.dashboard.imageTag Central dashboard docker image configuration vmaster-g8097cfeb   component.kubeflow.dashboard.contributorFormat REGEX to configure validation for profiles congtributor ^.+$   component.kubeflow.dashboard.contributorValidationMessage Custom error message for contributor validation ^.+$    See Also #   Central Dashboard on Kubeflow website  "},{"id":5,"href":"/components/pipelines/","title":"Pipelines","section":"Components","content":"Kubeflow pipelines #  Overview of the Kubeflow pipelines service #  Kubeflow is a machine learning (ML) toolkit that is dedicated to making deployments of ML workflows on Kubernetes simple, portable, and scalable.\nKubeflow pipelines are reusable end-to-end ML workflows built using the Kubeflow Pipelines SDK.\nThe Kubeflow pipelines service has the following goals:\n End to end orchestration: enabling and simplifying the orchestration of end to end machine learning pipelines Easy experimentation: making it easy for you to try numerous ideas and techniques, and manage your various trials/experiments. Easy re-use: enabling you to re-use components and pipelines to quickly cobble together end to end solutions, without having to re-build each time.  "},{"id":6,"href":"/stacks/kubeflow-gcp/","title":"Kubeflow Gcp","section":"Kubeflow","content":"Kubeflow Stack on GCP #  Here we explain how to deploy a Kubeflow into your Google Cloud Platform environment\nDeployment Prerequisites #   You should be signed in and have an active project in GCP: https://console.cloud.google.com You should have already deployed a GKE cluster.   Don\u0026rsquo;t have a cluster? Not a problem. We have a GKE stack for you, follow this link\n Deployment #  Deployment via Cloud Shell #  The easiest way how to get started is via Cloud Shell Edititor. Choose from the list of available Kubeflow stacks\n   Kubeflow Stack Description Link     Kubeflow cluster v1.2 This is our latest Kubeflow stack available     Start a new cloud shell session #  What will happen when you click to the button:\n You will start a new Cloud Shell editor session (best works with the Chrome Browser) Cloud shell will use a Shellbox image with all tools needed to deploy a kubeflow. No additional configuration required, See shellbox on gcr Cloud shell will clone a git repo with the stack files: See github repo: kubeflow-stacks  Init stack #  First you need initialize the sandbox configuration. To do this please run the initialization command:\nhub stack init The command will:\n Download the components described in hub.yaml Configure this Cloud Shell session for your GCP. It will ask other GCP essentials. It will take Region and Location (zone) from GCP metadat aserver. You can change settings by modifying .env file  Configure and Deploy a stack #  Once you are done with the configuration, use the following command to deploy the sandbox:\nhub stack deploy Before the first deployment you will be prompted for few questions. Your settings will be captured in .env file.\n Name of GKE cluster in your region. You will see a list of already deployed GKE clusters in your region. For different region, please adjust variables in .env file and thern run hub stack deploy command again Name of the storage class (more info here) GKE provides several storage classes you will see them Other questions\u0026hellip;  Once all configuration settings completed it will start the deployment automatically\nReview configuration parameters before deployment #  Wait, not so fast! I want to review coniguration settings (and possibly adjust) before the deployment.\nIn this case, run the following command\nhub stack configure This command will only do a configuration step and save results in .env file. So you can review and adjust. Once you are happy then run\nhub stack deploy Clean Up #  To remove your Kubeflow deployment, please run the following command\nhub stack undeploy "},{"id":7,"href":"/components/","title":"Components","section":"","content":"List of components #   Pipelines  "},{"id":8,"href":"/stacks/","title":"Kubeflow","section":"","content":"Available Kubeflow Stacks #  TBD\n"}]